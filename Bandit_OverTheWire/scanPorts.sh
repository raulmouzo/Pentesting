#!/bin/bash

initial_port=31000
final_port=32000


function ctrl_c(){
    echo -e "Aborting...\n"
    exit 1
}

#Ctrl + C
trap ctrl_c INT


for port in $(seq $initial_port $final_port); do
    (echo '' > /dev/tcp/127.0.0.1/$port) 2>/dev/null && echo -n "[PORT: $port] OPEN"
    if [ $? -eq 0 ]; then
   	 (openssl s_client -connect localhost:$port </dev/null) &>/dev/null && echo -n " and SSL"
   	 echo ''
    fi
done

exit 0
